{% load static %}
{% load group_checker %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benefit Package Library Management System</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <!-- css -->
    <link href="{% static 'css/styles.css' %}" rel="stylesheet">
    <link href="{% static 'css/input.css' %}" rel="stylesheet">

    <!-- boxicons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>

    <header class="fixed top-0 z-40 w-full border-b border-gray-200 bg-white dark:bg-gray-800 dark:border-gray-700">
        <div class="px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center justify-start rtl:justify-end">
                    <button data-drawer-target="logo-sidebar" data-drawer-toggle="logo-sidebar"
                        aria-controls="logo-sidebar" type="button"
                        class="inline-flex items-center mr-4 p-2 text-sm text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
                        <span class="sr-only">Open sidebar</span>
                        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path clip-rule="evenodd" fill-rule="evenodd"
                                d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z">
                            </path>
                        </svg>
                    </button>
                    <div id="menu-button" class="group py-1 pt-2 px-2 rounded-md mr-4 border border-gray-200 cursor-pointer hover:border-primary hover:border-opacity-50">
                        <i id="menu-icon" class='bx bx-chevron-right text-3xl font-light text-gray-500 group-hover:text-primary'></i>
                    </div>
                    <!-- <i class='bx bx-chevron-right'></i> <i class='bx bx-chevron-left'></i> -->
                    <a class="text-white flex space-x-2 items-center">
                        <div class="w-40 h-12">
                            <img src="{% static 'images/images_Philhealth_Logo.png' %}" alt="logo" class="w-36 h-12">
                        </div>
                    </a>
                </div>
                <div class="flex items-center">
                    <div class="flex items-center ms-3">
                        <div>
                            <button type="button"
                                class="flex text-sm bg-gray-50 border border-gray-200 rounded-full focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"
                                aria-expanded="false" data-dropdown-toggle="dropdown-user">
                                <span class="sr-only">Open user menu</span>
                                <img src="https://placehold.co/600x400"
                                    class="w-10 h-10 rounded-full object-cover object-center" alt="user photo">
                            </button>
                        </div>
                        <div class="w-60 z-50 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded shadow dark:bg-gray-700 dark:divide-gray-600"
                            id="dropdown-user">
                            <div class="px-4 py-3 flex flex-col space-y-2" role="none">
                                <div hx-get="/user/" hx-trigger="load" class="w-full flex flex-col space-y-2">
                                </div>
                                <a href="{% url 'logout' %}"
                                    class="w-full bg-primary text-white rounded text-sm text-center py-2 px-4">Logout</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- w-64 -->
    <aside id="logo-sidebar"
        class="pt-24 fixed top-0 left-0 z-30 w-20 h-screen transition-transform -translate-x-full bg-white border-r border-gray-200 sm:translate-x-0 dark:bg-gray-800 dark:border-gray-700"
        aria-label="Sidebar">
        <div id="wide-sidebar" class="hidden relative h-full p-4 pt-0 overflow-y-auto bg-white dark:bg-gray-800">
            <div class="h-full relative flex flex-col space-y-1 ">
                <a href="{% url 'acr' %}"
                    class="group w-full flex items-center rounded-md p-2 px-4 hover:text-primary border hover:border-primary hover:border-opacity-50 {% if 'acr' in request.path %} text-primary border-primary border-opacity-50 {% endif %}">
                    <div>
                        <i class='bx bx-list-ul text-2xl mt-1 '></i>
                    </div>
                    <span class="flex-1 ms-3 whitespace-nowrap  text-sm">All Case-Rate</span>
                </a>

                <a href="{% url 'z_benefits_home' %}"
                    class="group w-full flex items-center rounded-md p-2 px-4 hover:text-primary border hover:border-primary hover:border-opacity-50 {% if 'zbenefits' in request.path %} text-primary border-primary border-opacity-50 {% endif %}">
                    <div>
                        <i class='bx bx-test-tube text-2xl mt-1 '></i>
                    </div>
                    <span class="flex-1 ms-3 whitespace-nowrap text-sm">Z-Benefits</span>
                </a>

                <a href="{% url 'drg_home' %}"
                    class="group w-full flex items-center rounded-md p-2 px-4 hover:text-primary border hover:border-primary hover:border-opacity-50 {% if 'drg' in request.path %} text-primary border-primary border-opacity-50 {% endif %}">
                    <div>
                        <i class='bx bx-file text-2xl mt-1 '></i>
                    </div>
                    <span class="flex-1 ms-3 whitespace-nowrap text-sm">DRG</span>
                </a>

                <div hx-get="/user/" hx-trigger="load" class="w-full flex flex-col space-y-2 absolute bottom-0">
                </div>
            </div>
        </div>

        <div id="small-sidebar" class=" relative h-full p-4 pt-0 overflow-y-auto bg-white dark:bg-gray-800">
            <div class="h-full relative flex flex-col space-y-1 ">
                <a href="{% url 'acr' %}"
                    class="group w-full flex items-center justify-center rounded-md p-2 hover:text-primary border hover:border-primary hover:border-opacity-50 {% if 'acr' in request.path %} text-primary border-primary border-opacity-50 {% endif %}">
                    <div>
                        <i class='bx bx-list-ul text-2xl mt-1 '></i>
                    </div>
                </a>

                <a href="{% url 'z_benefits_home' %}"
                    class="group w-full flex items-center justify-center rounded-md p-2 hover:text-primary border hover:border-primary hover:border-opacity-50 {% if 'zbenefits' in request.path %} text-primary border-primary border-opacity-50 {% endif %}">
                    <div>
                        <i class='bx bx-test-tube text-2xl mt-1 '></i>
                    </div>
                </a>

                <a href="{% url 'drg_home' %}"
                    class="group w-full flex items-center justify-center rounded-md p-2 hover:text-primary border hover:border-primary hover:border-opacity-50 {% if 'drg' in request.path %} text-primary border-primary border-opacity-50 {% endif %}">
                    <div>
                        <i class='bx bx-file text-2xl mt-1 '></i>
                    </div>
                </a>
                <div class="w-full flex flex-col items-center justify-center space-y-2 absolute bottom-0 ">
                    <i class='bx bx-user-circle text-4xl text-gray-500'></i>
                </div>
            </div>
        </div>
    </aside>

    <!-- sm:ml-64 -->
    <div id="main-container" class="min-h-screen h-auto p-4 py-24 sm:ml-20 bg-gray-100 text-xs">
        {% block content %}{% endblock %}
    </div>

    <script>
        const SidebarCntr = document.getElementById('logo-sidebar');
        const MainContainer = document.getElementById('main-container');
        const WideSidebar = document.getElementById('wide-sidebar');
        const SmallSidebar = document.getElementById('small-sidebar');
        const MenuButton = document.getElementById('menu-button');
        const MenuIcon = document.getElementById('menu-icon');

        MenuButton.addEventListener('click', () => {
            if (!WideSidebar.classList.contains('hidden')) {
                WideSidebar.classList.add('hidden');
                SidebarCntr.classList.replace('w-64', 'w-20');
                MainContainer.classList.replace('sm:ml-64', 'sm:ml-20');
                SmallSidebar.classList.remove('hidden');
                MenuIcon.classList.replace('bx-chevron-left', 'bx-chevron-right');
                
            } else {
                WideSidebar.classList.remove('hidden');
                SidebarCntr.classList.replace('w-20', 'w-64');
                MainContainer.classList.replace('sm:ml-20', 'sm:ml-64');
                SmallSidebar.classList.add('hidden');
                MenuIcon.classList.replace('bx-chevron-right', 'bx-chevron-left');
            }
        });
    </script>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
    <script src="{% static 'js/htmx.min.js' %}" defer></script>
</body>

</html>